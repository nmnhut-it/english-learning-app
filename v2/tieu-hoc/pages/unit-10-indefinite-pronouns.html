<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Unit 10: Indefinite Pronouns & Question Tags | English Grammar Games</title>
  <meta name="description" content="Practice indefinite pronouns (someone, anyone, nothing, etc.) and question tags">

  <!-- Shared Styles -->
  <link rel="stylesheet" href="../css/shared.css">
</head>
<body>
  <!-- Game Header -->
  <header class="game-header">
    <div class="container">
      <div class="game-header__container">
        <div class="game-header__info-section">
          <h1 class="game-header__title">Unit 10: Indefinite Pronouns & Question Tags</h1>
          <p class="game-header__subtitle">Someone, Anyone, Nothing & Question Tags</p>
          <div class="game-info">
            <div class="game-info__item">
              <span class="game-info__label">GiÃ¡o viÃªn:</span>
              <span class="game-info__value">Nguyá»…n Minh Nhá»±t</span>
            </div>
            <div class="game-info__item">
              <span class="game-info__label">Há»c sinh:</span>
              <span class="game-info__value"></span>
            </div>
          </div>
        </div>

        <div class="game-header__stats">
          <div class="stat">
            <span class="stat__label">Äiá»ƒm</span>
            <span class="stat__value stat__value--primary" id="current-score">â­ 0</span>
          </div>

          <div class="stat">
            <span class="stat__label">Tiáº¿n Ä‘á»™</span>
            <span class="stat__value" id="progress-count">0 / 0</span>
          </div>

          <div class="stat" id="combo-display" style="display: none;">
            <span class="stat__label">Combo</span>
            <span class="stat__value" id="combo-count">0</span>
          </div>
        </div>
      </div>

      <!-- Progress Bar -->
      <div class="progress">
        <div class="progress__bar" id="progress-bar" style="width: 0%;"></div>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="container">
    <!-- Theory Panel (Collapsible) -->
    <div class="theory-panel" id="theory-panel">
      <button class="theory-panel__toggle" id="theory-toggle">
        <span>ğŸ“– TÃ i liá»‡u ngá»¯ phÃ¡p</span>
        <span class="theory-panel__icon" id="theory-icon">â–¼</span>
      </button>

      <div class="theory-panel__content" id="theory-content">
        <!-- PHáº¦N 1: Tá»« chá»‰ ngÆ°á»i/váº­t/nÆ¡i chá»‘n khÃ´ng rÃµ -->
        <div class="theory-panel__section">
          <h3 class="theory-panel__heading">ğŸ¯ PHáº¦N 1: Tá»ª CHá»ˆ NGÆ¯á»œI/Váº¬T/NÆ I CHá»N KHÃ”NG RÃ•</h3>
          <p style="font-size: 15px; line-height: 1.6;">
            Khi báº¡n nÃ³i <strong>"CÃ³ AI ÄÃ“ gÃµ cá»­a"</strong> nhÆ°ng khÃ´ng biáº¿t lÃ  ai â†’ dÃ¹ng nhá»¯ng tá»« Ä‘áº·c biá»‡t nÃ y!
          </p>
          <p style="font-weight: 600; margin-top: 12px;">CÃ³ 4 nhÃ³m tá»«, má»—i nhÃ³m dÃ¹ng cho tÃ¬nh huá»‘ng khÃ¡c nhau:</p>
        </div>

        <!-- NHÃ“M 1: SOME -->
        <div class="theory-panel__section" style="background: #e8f5e9; padding: 16px; border-radius: 8px; margin-bottom: 16px;">
          <h4 style="color: #2e7d32; margin-bottom: 12px;">âœ… NHÃ“M 1: Tá»« cÃ³ chá»¯ SOME</h4>
          <p><strong>Khi nÃ o dÃ¹ng?</strong> DÃ¹ng khi nÃ³i cÃ¢u BÃŒNH THÆ¯á»œNG (cÃ¢u cÃ³ 'cÃ³', khÃ´ng nÃ³i 'khÃ´ng')</p>
          <p><strong>NghÄ©a:</strong> AI ÄÃ“ / CÃI GÃŒ ÄÃ“ / ÄÃ‚U ÄÃ“</p>
          <ul style="margin: 12px 0; padding-left: 20px;">
            <li><strong>someone / somebody</strong> = AI ÄÃ“ (ngÆ°á»i)<br>
              <em style="color: #1976d2;">Someone is calling you.</em><br>
              <em style="color: #666;">â†’ Ai Ä‘Ã³ Ä‘ang gá»i báº¡n Ä‘áº¥y.</em>
            </li>
            <li><strong>something</strong> = CÃI GÃŒ ÄÃ“ (Ä‘á»“ váº­t)<br>
              <em style="color: #1976d2;">I need something to eat.</em><br>
              <em style="color: #666;">â†’ MÃ¬nh cáº§n cÃ¡i gÃ¬ Ä‘Ã³ Ä‘á»ƒ Äƒn.</em>
            </li>
            <li><strong>somewhere</strong> = ÄÃ‚U ÄÃ“ (nÆ¡i chá»‘n)<br>
              <em style="color: #1976d2;">Let's go somewhere fun!</em><br>
              <em style="color: #666;">â†’ Äi Ä‘Ã¢u Ä‘Ã³ vui vui nÃ o!</em>
            </li>
          </ul>
          <div style="background: white; padding: 10px; border-radius: 6px; margin-top: 10px;">
            <strong>ğŸ’¡ Máº¸O GHI NHá»š:</strong> SOME = CÃ“ â†’ CÃ¢u nÃ³i 'CÃ“' thÃ¬ dÃ¹ng SOME!
          </div>
        </div>

        <!-- NHÃ“M 2: ANY -->
        <div class="theory-panel__section" style="background: #e3f2fd; padding: 16px; border-radius: 8px; margin-bottom: 16px;">
          <h4 style="color: #1565c0; margin-bottom: 12px;">â“ NHÃ“M 2: Tá»« cÃ³ chá»¯ ANY</h4>
          <p><strong>Khi nÃ o dÃ¹ng?</strong> DÃ¹ng khi Há»I (cÃ³ dáº¥u ?) hoáº·c nÃ³i 'KHÃ”NG'</p>
          <p><strong>NghÄ©a:</strong> AI / CÃI GÃŒ / ÄÃ‚U (báº¥t ká»³)</p>
          <ul style="margin: 12px 0; padding-left: 20px;">
            <li><strong>anyone / anybody</strong> = AI / Báº¤T Ká»² AI<br>
              <em style="color: #1976d2;">Is anyone home?</em><br>
              <em style="color: #666;">â†’ CÃ³ ai á»Ÿ nhÃ  khÃ´ng?</em>
            </li>
            <li><strong>anything</strong> = CÃI GÃŒ / Báº¤T Ká»² THá»¨ GÃŒ<br>
              <em style="color: #1976d2;">I don't have anything.</em><br>
              <em style="color: #666;">â†’ MÃ¬nh khÃ´ng cÃ³ gÃ¬ cáº£.</em>
            </li>
            <li><strong>anywhere</strong> = ÄÃ‚U / Báº¤T Ká»² NÆ I ÄÃ‚U<br>
              <em style="color: #1976d2;">We can't go anywhere today.</em><br>
              <em style="color: #666;">â†’ HÃ´m nay chÃºng mÃ¬nh khÃ´ng thá»ƒ Ä‘i Ä‘Ã¢u Ä‘Æ°á»£c.</em>
            </li>
          </ul>
          <div style="background: white; padding: 10px; border-radius: 6px; margin-top: 10px;">
            <strong>ğŸ’¡ Máº¸O GHI NHá»š:</strong> Tháº¥y dáº¥u Há»I (?) hoáº·c tá»« KHÃ”NG â†’ dÃ¹ng ANY!
          </div>
        </div>

        <!-- NHÃ“M 3: NO -->
        <div class="theory-panel__section" style="background: #ffebee; padding: 16px; border-radius: 8px; margin-bottom: 16px;">
          <h4 style="color: #c62828; margin-bottom: 12px;">âŒ NHÃ“M 3: Tá»« cÃ³ chá»¯ NO</h4>
          <p><strong>Khi nÃ o dÃ¹ng?</strong> DÃ¹ng khi muá»‘n nÃ³i KHÃ”NG Má»˜T AI / KHÃ”NG Má»˜T CÃI NÃ€O (nháº¥n máº¡nh)</p>
          <p><strong>NghÄ©a:</strong> KHÃ”NG AI / KHÃ”NG GÃŒ / KHÃ”NG ÄÃ‚U</p>
          <ul style="margin: 12px 0; padding-left: 20px;">
            <li><strong>no one / nobody</strong> = KHÃ”NG AI<br>
              <em style="color: #1976d2;">Nobody came to the party.</em><br>
              <em style="color: #666;">â†’ KhÃ´ng ai Ä‘áº¿n bá»¯a tiá»‡c cáº£.</em>
            </li>
            <li><strong>nothing</strong> = KHÃ”NG GÃŒ / KHÃ”NG CÃ“ GÃŒ<br>
              <em style="color: #1976d2;">There's nothing in the fridge.</em><br>
              <em style="color: #666;">â†’ KhÃ´ng cÃ³ gÃ¬ trong tá»§ láº¡nh.</em>
            </li>
            <li><strong>nowhere</strong> = KHÃ”NG NÆ I NÃ€O / KHÃ”NG ÄÃ‚U<br>
              <em style="color: #1976d2;">I have nowhere to sit.</em><br>
              <em style="color: #666;">â†’ MÃ¬nh khÃ´ng cÃ³ chá»— ngá»“i.</em>
            </li>
          </ul>
          <div style="background: white; padding: 10px; border-radius: 6px; margin-top: 10px;">
            <strong>ğŸ’¡ Máº¸O GHI NHá»š:</strong> NO = KHÃ”NG
          </div>
          <div style="background: #fff3e0; padding: 10px; border-radius: 6px; margin-top: 10px; border-left: 4px solid #f57c00;">
            <strong>âš ï¸ SIÃŠU QUAN TRá»ŒNG:</strong> Äá»ªNG nÃ³i 'khÃ´ng...khÃ´ng gÃ¬' (sai!)<br>
            âŒ SAI: I don't have nothing<br>
            âœ… ÄÃšNG: I don't have anything
          </div>
        </div>

        <!-- NHÃ“M 4: EVERY -->
        <div class="theory-panel__section" style="background: #fff9c4; padding: 16px; border-radius: 8px; margin-bottom: 16px;">
          <h4 style="color: #f57f17; margin-bottom: 12px;">ğŸŒŸ NHÃ“M 4: Tá»« cÃ³ chá»¯ EVERY</h4>
          <p><strong>Khi nÃ o dÃ¹ng?</strong> DÃ¹ng khi nÃ³i vá» Táº¤T Cáº¢ Má»ŒI NGÆ¯á»œI / Má»ŒI THá»¨ / Má»ŒI NÆ I</p>
          <p><strong>NghÄ©a:</strong> Má»ŒI NGÆ¯á»œI / Má»ŒI THá»¨ / Má»ŒI NÆ I</p>
          <ul style="margin: 12px 0; padding-left: 20px;">
            <li><strong>everyone / everybody</strong> = Má»ŒI NGÆ¯á»œI<br>
              <em style="color: #1976d2;">Everyone loves ice cream!</em><br>
              <em style="color: #666;">â†’ Má»i ngÆ°á»i Ä‘á»u yÃªu kem!</em>
            </li>
            <li><strong>everything</strong> = Má»ŒI THá»¨ / Táº¤T Cáº¢<br>
              <em style="color: #1976d2;">Everything is ready.</em><br>
              <em style="color: #666;">â†’ Má»i thá»© Ä‘Ã£ sáºµn sÃ ng rá»“i.</em>
            </li>
            <li><strong>everywhere</strong> = Má»ŒI NÆ I / KHáº®P NÆ I<br>
              <em style="color: #1976d2;">My toys are everywhere!</em><br>
              <em style="color: #666;">â†’ Äá»“ chÆ¡i cá»§a mÃ¬nh á»Ÿ kháº¯p nÆ¡i!</em>
            </li>
          </ul>
          <div style="background: white; padding: 10px; border-radius: 6px; margin-top: 10px;">
            <strong>ğŸ’¡ Máº¸O GHI NHá»š:</strong> EVERY = Táº¤T Cáº¢<br>
            <strong>ğŸ¯ LÆ°u Ã½:</strong> Everyone + IS (khÃ´ng dÃ¹ng ARE) vÃ¬ coi nhÆ° sá»‘ Ã­t!
          </div>
        </div>

        <!-- Báº¢NG TRA NHANH -->
        <div class="theory-panel__section">
          <h4 style="margin-bottom: 12px;">ğŸ“Š Báº¢NG TRA NHANH</h4>
          <table style="width: 100%; border-collapse: collapse; font-size: 14px;">
            <tr style="background: var(--primary); color: white;">
              <th style="padding: 10px; text-align: left;">TÃ¬nh huá»‘ng</th>
              <th style="padding: 10px; text-align: left;">NGÆ¯á»œI</th>
              <th style="padding: 10px; text-align: left;">Váº¬T</th>
              <th style="padding: 10px; text-align: left;">NÆ I CHá»N</th>
            </tr>
            <tr style="background: #e8f5e9;">
              <td style="padding: 10px;">âœ… CÃ¢u thÆ°á»ng</td>
              <td style="padding: 10px;"><strong>someone</strong></td>
              <td style="padding: 10px;"><strong>something</strong></td>
              <td style="padding: 10px;"><strong>somewhere</strong></td>
            </tr>
            <tr style="background: #e3f2fd;">
              <td style="padding: 10px;">â“ Há»i/Phá»§ Ä‘á»‹nh</td>
              <td style="padding: 10px;"><strong>anyone</strong></td>
              <td style="padding: 10px;"><strong>anything</strong></td>
              <td style="padding: 10px;"><strong>anywhere</strong></td>
            </tr>
            <tr style="background: #ffebee;">
              <td style="padding: 10px;">âŒ KhÃ´ng cÃ³</td>
              <td style="padding: 10px;"><strong>no one</strong></td>
              <td style="padding: 10px;"><strong>nothing</strong></td>
              <td style="padding: 10px;"><strong>nowhere</strong></td>
            </tr>
            <tr style="background: #fff9c4;">
              <td style="padding: 10px;">ğŸŒŸ Táº¥t cáº£</td>
              <td style="padding: 10px;"><strong>everyone</strong></td>
              <td style="padding: 10px;"><strong>everything</strong></td>
              <td style="padding: 10px;"><strong>everywhere</strong></td>
            </tr>
          </table>
        </div>

        <!-- PHáº¦N 2: CÃ¢u há»i Ä‘uÃ´i -->
        <div class="theory-panel__section" style="margin-top: 30px;">
          <h3 class="theory-panel__heading">ğŸ”– PHáº¦N 2: CÃ‚U Há»I ÄUÃ”I (há»i 'pháº£i khÃ´ng?')</h3>
          <p style="font-size: 15px; line-height: 1.6;">
            Giá»‘ng nhÆ° tiáº¿ng Viá»‡t nÃ³i: <strong>"HÃ´m nay trá»i Ä‘áº¹p, PHáº¢I KHÃ”NG?"</strong> hoáº·c <strong>"Em khÃ´ng thÃ­ch cÆ¡m, ÄÃšNG KHÃ”NG?"</strong><br>
            â†’ Tiáº¿ng Anh cÅ©ng thÃªm cÃ¢u há»i ngáº¯n vÃ o cuá»‘i!
          </p>
        </div>

        <!-- QUY Táº®C VÃ€NG -->
        <div class="theory-panel__section" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 8px; margin-bottom: 16px;">
          <h4 style="color: #ffd700; margin-bottom: 12px;">â­ QUY Táº®C VÃ€NG - SIÃŠU Dá»„ NHá»š</h4>
          <p style="font-size: 16px; font-weight: 600; margin-bottom: 8px;">
            â¡ï¸ CÃ¢u Ä‘áº§u nÃ³i 'CÃ“' â†’ CÃ¢u Ä‘uÃ´i há»i 'KHÃ”NG pháº£i' â“
          </p>
          <p style="font-size: 16px; font-weight: 600; margin-bottom: 16px;">
            â¡ï¸ CÃ¢u Ä‘áº§u nÃ³i 'KHÃ”NG' â†’ CÃ¢u Ä‘uÃ´i há»i 'CÃ“ pháº£i' â“
          </p>
          <div style="background: rgba(255,255,255,0.2); padding: 12px; border-radius: 6px; font-size: 18px; text-align: center;">
            ğŸ˜Š CÃ“ â†’ âŒ KHÃ”NG? &nbsp;&nbsp;|&nbsp;&nbsp; âŒ KHÃ”NG â†’ âœ… CÃ“?
          </div>
          <div style="margin-top: 12px; padding: 12px; background: rgba(255,255,255,0.9); color: #333; border-radius: 6px;">
            <strong>VÃ­ dá»¥:</strong><br>
            â€¢ Báº¡n vui (CÃ“ vui) â†’ pháº£i KHÃ”NG? â†’ You are happy, aren't you?<br>
            â€¢ Báº¡n khÃ´ng buá»“n â†’ pháº£i CÃ“? â†’ You aren't sad, are you?
          </div>
        </div>

        <!-- BÆ¯á»šC 1: AM/IS/ARE -->
        <div class="theory-panel__section" style="background: #f3e5f5; padding: 16px; border-radius: 8px; margin-bottom: 16px;">
          <h4 style="color: #6a1b9a; margin-bottom: 12px;">ğŸ”§ BÆ¯á»šC 1: Vá»›i tá»« lÃ /thÃ¬/á»Ÿ (am/is/are/was/were)</h4>
          <p><strong>CÃ¡ch lÃ m:</strong> Láº¥y tá»« 'lÃ /thÃ¬/á»Ÿ' ra, Ä‘áº£o ngÆ°á»£c 'cÃ³/khÃ´ng'</p>
          <div style="background: white; padding: 12px; border-radius: 6px; margin-top: 10px;">
            <strong>VÃ­ dá»¥ báº±ng tiáº¿ng Viá»‡t:</strong><br>
            â€¢ CÃ´ áº¥y cao (IS cao) â†’ KHÃ”NG cao pháº£i khÃ´ng?<br>
            â€¢ Há» lÃ  báº¡n (ARE báº¡n) â†’ KHÃ”NG pháº£i báº¡n Ã ?<br>
            â€¢ Trá»i khÃ´ng láº¡nh (KHÃ”NG IS láº¡nh) â†’ CÃ“ láº¡nh khÃ´ng?
          </div>
          <div style="background: white; padding: 12px; border-radius: 6px; margin-top: 10px;">
            <strong>VÃ­ dá»¥ tiáº¿ng Anh:</strong><br>
            â€¢ She is tall â†’ isn't she?<br>
            â€¢ They are friends â†’ aren't they?<br>
            â€¢ It isn't cold â†’ is it?
          </div>
          <p style="margin-top: 10px; padding: 10px; background: #fff3e0; border-radius: 6px;">
            <strong>ğŸ¯ TrÆ°á»ng há»£p Ä‘áº·c biá»‡t:</strong> 'TÃ´i lÃ ' â†’ aren't I? (ghi nhá»› riÃªng!)
          </p>
        </div>

        <!-- BÆ¯á»šC 2: Äá»™ng tá»« thÆ°á»ng -->
        <div class="theory-panel__section" style="background: #e0f2f1; padding: 16px; border-radius: 8px; margin-bottom: 16px;">
          <h4 style="color: #00695c; margin-bottom: 12px;">ğŸ”§ BÆ¯á»šC 2: Vá»›i Ä‘á»™ng tá»« thÆ°á»ng (thÃ­ch/Ä‘i/chÆ¡i/Äƒn...)</h4>
          <p><strong>CÃ¡ch lÃ m:</strong> DÃ¹ng tá»« DO/DOES/DID rá»“i Ä‘áº£o ngÆ°á»£c</p>
          <div style="background: white; padding: 12px; border-radius: 6px; margin-top: 10px;">
            <strong>VÃ­ dá»¥ báº±ng tiáº¿ng Viá»‡t:</strong><br>
            â€¢ Báº¡n thÃ­ch káº¹o â†’ KHÃ”NG thÃ­ch Ã ?<br>
            â€¢ Cáº­u áº¥y chÆ¡i bÃ³ng â†’ KHÃ”NG chÆ¡i Ã ?<br>
            â€¢ Há» vá» nhÃ  rá»“i â†’ KHÃ”NG vá» Ã ?
          </div>
          <div style="background: white; padding: 12px; border-radius: 6px; margin-top: 10px;">
            <strong>VÃ­ dá»¥ tiáº¿ng Anh:</strong><br>
            â€¢ You like candy â†’ don't you?<br>
            â€¢ He plays soccer â†’ doesn't he?<br>
            â€¢ They went home â†’ didn't they?
          </div>
          <p style="margin-top: 10px; padding: 10px; background: #fff3e0; border-radius: 6px;">
            <strong>ğŸ¯ Nhá»›:</strong> He/She/It dÃ¹ng doesn't | Báº¡n/ChÃºng ta/Há» dÃ¹ng don't | ÄÃ£ lÃ m rá»“i dÃ¹ng didn't
          </p>
        </div>

        <!-- BÆ¯á»šC 3: CAN/WILL... -->
        <div class="theory-panel__section" style="background: #fce4ec; padding: 16px; border-radius: 8px; margin-bottom: 16px;">
          <h4 style="color: #ad1457; margin-bottom: 12px;">ğŸ”§ BÆ¯á»šC 3: Vá»›i tá»« Ä‘áº·c biá»‡t (biáº¿t/sáº½/nÃªn/cÃ³ thá»ƒ...)</h4>
          <p><strong>CÃ¡ch lÃ m:</strong> Láº¥y tá»« Ä‘áº·c biá»‡t ra, Ä‘áº£o ngÆ°á»£c 'cÃ³/khÃ´ng'</p>
          <div style="background: white; padding: 12px; border-radius: 6px; margin-top: 10px;">
            <strong>VÃ­ dá»¥ báº±ng tiáº¿ng Viá»‡t:</strong><br>
            â€¢ Báº¡n biáº¿t bÆ¡i (CAN bÆ¡i) â†’ KHÃ”NG biáº¿t Ã ?<br>
            â€¢ CÃ´ áº¥y sáº½ Ä‘áº¿n (WILL Ä‘áº¿n) â†’ KHÃ”NG Ä‘áº¿n Ã ?<br>
            â€¢ ChÃºng ta nÃªn Ä‘i (SHOULD Ä‘i) â†’ KHÃ”NG nÃªn Ã ?
          </div>
          <div style="background: white; padding: 12px; border-radius: 6px; margin-top: 10px;">
            <strong>VÃ­ dá»¥ tiáº¿ng Anh:</strong><br>
            â€¢ You can swim â†’ can't you?<br>
            â€¢ She will come â†’ won't she?<br>
            â€¢ We should go â†’ shouldn't we?
          </div>
          <p style="margin-top: 10px; padding: 10px; background: #fff3e0; border-radius: 6px;">
            <strong>ğŸ¯ Máº¹o:</strong> Cá»© láº¥y tá»« Ä‘áº·c biá»‡t ra, Ä‘á»•i cÃ³/khÃ´ng lÃ  xong!
          </p>
        </div>

        <!-- GÃ“C LUYá»†N Táº¬P -->
        <div class="theory-panel__section" style="background: #e8eaf6; padding: 16px; border-radius: 8px; margin-bottom: 16px;">
          <h4 style="color: #3f51b5; margin-bottom: 12px;">ğŸ® GÃ“C LUYá»†N Táº¬P NHANH</h4>
          <p style="margin-bottom: 12px;"><strong>Äiá»n tá»« vÃ o chá»— trá»‘ng:</strong></p>
          <ol style="margin: 0; padding-left: 20px;">
            <li style="margin-bottom: 10px;">
              <strong style="color: #1976d2;">It's sunny today, _____ it?</strong><br>
              <em style="color: #666;">â†’ HÃ´m nay trá»i náº¯ng, pháº£i khÃ´ng?</em><br>
              <em style="color: #666; font-size: 13px;">Gá»£i Ã½: is (kháº³ng Ä‘á»‹nh) â†’ isn't</em><br>
              <span style="color: #4caf50; font-weight: 600;">ğŸ’¡ ÄÃ¡p Ã¡n: isn't</span>
            </li>
            <li style="margin-bottom: 10px;">
              <strong style="color: #1976d2;">You don't like fish, _____ you?</strong><br>
              <em style="color: #666;">â†’ Báº¡n khÃ´ng thÃ­ch cÃ¡, pháº£i khÃ´ng?</em><br>
              <em style="color: #666; font-size: 13px;">Gá»£i Ã½: don't (phá»§ Ä‘á»‹nh) â†’ do</em><br>
              <span style="color: #4caf50; font-weight: 600;">ğŸ’¡ ÄÃ¡p Ã¡n: do</span>
            </li>
            <li style="margin-bottom: 10px;">
              <strong style="color: #1976d2;">She can dance, _____ she?</strong><br>
              <em style="color: #666;">â†’ CÃ´ áº¥y biáº¿t nháº£y, pháº£i khÃ´ng?</em><br>
              <em style="color: #666; font-size: 13px;">Gá»£i Ã½: can (kháº³ng Ä‘á»‹nh) â†’ can't</em><br>
              <span style="color: #4caf50; font-weight: 600;">ğŸ’¡ ÄÃ¡p Ã¡n: can't</span>
            </li>
            <li style="margin-bottom: 10px;">
              <strong style="color: #1976d2;">They weren't late, _____ they?</strong><br>
              <em style="color: #666;">â†’ Há» khÃ´ng muá»™n, pháº£i khÃ´ng?</em><br>
              <em style="color: #666; font-size: 13px;">Gá»£i Ã½: weren't (phá»§ Ä‘á»‹nh) â†’ were</em><br>
              <span style="color: #4caf50; font-weight: 600;">ğŸ’¡ ÄÃ¡p Ã¡n: were</span>
            </li>
          </ol>
        </div>

        <!-- LÆ¯U Ã QUAN TRá»ŒNG -->
        <div class="theory-panel__section" style="background: #ffebee; padding: 16px; border-radius: 8px; border: 2px solid #ef5350;">
          <h4 style="color: #c62828; margin-bottom: 12px;">âš ï¸ LÆ¯U Ã QUAN TRá»ŒNG</h4>
          <p style="font-weight: 600; margin-bottom: 10px;">
            Trong cÃ¢u Ä‘uÃ´i LUÃ”N LUÃ”N dÃ¹ng HE/SHE/IT/THEY, KHÃ”NG dÃ¹ng tÃªn ngÆ°á»i!
          </p>
          <div style="background: white; padding: 12px; border-radius: 6px;">
            <p style="margin-bottom: 8px;"><strong>VÃ Dá»¤:</strong></p>
            <p style="margin-bottom: 6px;">
              âœ… ÄÃšNG: <strong style="color: #1976d2;">Tom is tall, isn't <span style="text-decoration: underline;">he</span>?</strong><br>
              <em style="color: #666; font-size: 14px;">â†’ Tom cao, pháº£i khÃ´ng? (dÃ¹ng HE thay cho Tom)</em>
            </p>
            <p style="margin-bottom: 10px; color: #c62828;">
              âŒ SAI: <strong>Tom is tall, isn't Tom?</strong>
            </p>
            <p style="margin-bottom: 6px;">
              âœ… ÄÃšNG: <strong style="color: #1976d2;">Mary and Lan are friends, aren't <span style="text-decoration: underline;">they</span>?</strong><br>
              <em style="color: #666; font-size: 14px;">â†’ Mary vÃ  Lan lÃ  báº¡n, pháº£i khÃ´ng? (dÃ¹ng THEY)</em>
            </p>
            <p style="color: #c62828;">
              âŒ SAI: <strong>Mary and Lan are friends, aren't Mary and Lan?</strong>
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- Exercise Container -->
    <div id="exercise-container">
      <!-- Exercises will be rendered here dynamically -->
      <div class="card text-center">
        <h2>Loading...</h2>
        <p>Please wait while we load the exercises.</p>
      </div>
    </div>
  </main>

  <!-- Core JavaScript (loaded first) -->
  <script src="../js/core/utils.js"></script>
  <script src="../js/core/storage.js"></script>
  <script src="../js/core/telegram-sender.js"></script>
  <script src="../js/core/game-engine.js"></script>

  <!-- Exercise Type Handlers (mobile-friendly types only) -->
  <script src="../js/exercises/multiple-choice.js"></script>
  <script src="../js/exercises/word-rearrange.js"></script>
  <!-- word-arrangement is handled by word-rearrange.js -->

  <!-- Initialize Game -->
  <script>
    const UNIT_ID = 'unit-10-indefinite-pronouns';
    const DATA_PATH = '../data/unit-10-indefinite-pronouns.json';

    // Theory panel toggle
    const theoryToggle = document.getElementById('theory-toggle');
    const theoryContent = document.getElementById('theory-content');
    const theoryIcon = document.getElementById('theory-icon');

    theoryToggle.addEventListener('click', () => {
      const isExpanded = theoryContent.classList.contains('theory-panel__content--expanded');

      if (isExpanded) {
        theoryContent.classList.remove('theory-panel__content--expanded');
        theoryIcon.classList.remove('theory-panel__icon--rotated');
      } else {
        theoryContent.classList.add('theory-panel__content--expanded');
        theoryIcon.classList.add('theory-panel__icon--rotated');
      }
    });

    // Combo display logic
    function updateComboDisplay() {
      const comboDisplay = document.getElementById('combo-display');
      const comboCount = document.getElementById('combo-count');
      const state = GameEngine.getState();

      if (state.comboCount >= 3) {
        comboDisplay.style.display = 'flex';
        comboCount.textContent = state.comboCount + 'x ğŸ”¥';
      } else {
        comboDisplay.style.display = 'none';
      }
    }

    // Override GameEngine.updateUI to include combo display
    const originalUpdateUI = GameEngine.updateUI.bind(GameEngine);
    GameEngine.updateUI = function() {
      originalUpdateUI();
      updateComboDisplay();
    };

    // Load unit data and start game
    async function loadAndStartGame() {
      try {
        const response = await fetch(DATA_PATH);

        if (!response.ok) {
          throw new Error(`Failed to load data: ${response.status}`);
        }

        const unitData = await response.json();

        console.log('Unit data loaded:', unitData);
        console.log('Registered exercise handlers:', Object.keys(GameEngine.exerciseHandlers));

        GameEngine.init(unitData, UNIT_ID);

      } catch (error) {
        console.error('Error loading game data:', error);

        const container = document.getElementById('exercise-container');
        container.innerHTML = `
          <div class="card">
            <h2 style="color: var(--danger);">Error Loading Game</h2>
            <p>Sorry, we couldn't load the exercise data. Please try refreshing the page.</p>
            <p style="font-size: var(--font-size-sm); color: var(--text-light);">Error: ${error.message}</p>
            <button class="btn btn--primary mt-2" onclick="location.reload()">Reload Page</button>
          </div>
        `;
      }
    }

    // Start game when page loads
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', loadAndStartGame);
    } else {
      loadAndStartGame();
    }
  </script>
</body>
</html>
